---
分類: 攻撃手段
---
## 概要
DNS amplification attack,DDoSの一種。
攻撃者は、DNSへ問い合わせする送信元のIPアドレスを、攻撃先のIPアドレスに偽装し、大量なデータを引き寄せるDNSクエリを作成し送信する。
攻撃先のIPアドレスに大量のトラフィックを引き寄せることで、DoSを達成する。

## 仕組み
1. 攻撃者が、DNS返答データを増幅させるようなクエリを作成。(ANYクエリを使用してそのドメインにあるすべてのレコードを送信することや、DNSSEC対応ドメインのレコードなど、または、多くのレコードをあらかじめ仕込んでおいたドメインに問い合わせするなど)
2. 攻撃先のIPアドレスを、DNSクエリ送信元のIPにすり替える
3. クエリを大量な公開DNSサーバに送信
4. それぞれのクエリが大量なトラフィックを引き起こし、攻撃先のリソースを占拠。

## 対策
### ISP
DNSクエリ送信元の真偽を検査し、偽装を防止するBCP38(Network Ingress Filtering)

### DNS Server
内部ユーザからの再帰問い合わせしか応じない、送信する量を制限するRRL(Response Rate Limiting)を実装する。

## DNS Reflectionとの違い
[[DNS Reflection Attack]]と同じく、DNSクエリの送信元を偽造し、DNSを踏み台にする攻撃だが、DNS amp attackはパケットサイズを増幅させることで、小さな送信パケットでその数倍サイズの返信を得ることを目標としている。
DNS Reflection Attackは同じDNSクエリの送信元を偽造する手法になり、多くのDNSサーバに問い合わせし、その返信の多さで攻撃目標の資源を消費する。
二つの手法は並行して使用することも多く、例えばDNS Amp attackで、増幅クエリを多くのDNSサーバに送信するなどが挙げられる。