### キャッシュメモリの割付方式
　#ダイレクトマップ方式 
　#ダイレクトマッピング
　#ダイレクトマッピング方式
　　ダイレクトマック方式は、主記憶上のブロックのアドレスに合わせて、キャッシュ上のアドレスを固定に決まり（一対一ではない）、キャッシュに読み込むするときは、CPUがその主記憶ブロックのアドレスからキャッシュ上のアドレスを計算し、その該当アドレスに書き込む。
　　キャッシュアドレスの計算方法は
　　$$キャッシュアドレス=主記憶上のアドレス(ブロック番号) \bmod キャッシュのブロック数$$
　　この方法では、CPUが連続読み込みする場合（主記憶からキャッシュに書きこむ）、キャッシュのサイズ回を書き込むたびに追い出しが発生する。
　　（例えばサイズが１１ブロックのキャッシュに対して書き込むすると、連続データは１１個しか書き込めなく、１２個からはキャッシュの１番目に戻り追い出しが発生する。） ^21e59e

　　ダイレクトマップ方式の強み：
　　　1. 構造の簡潔さ:ダイレクトマップ方式では、CPUに余分の機構や処理を求めることなく、キャッシュメモリ割付方式中の一番シンプルなポリシーである。
　　　2. 速度の速さ:ダイレクトマップ方式は配列の #ハッシュ探索 と同じアプローチなので、読み書き共に指定したアドレス一箇所しかチェックしないので、圧倒的にスピードが優れている。
　　　3. オーバーヘッドの少なさ:キャッシュには、保存したデータの識別情報（TAG）と情報自体を保存しているので、その他余分の情報がなくCPUへの負荷を軽減できる。
　　ダイレクトマップ方式の弱み：
　　　1. ミスヒット率の増加:ダイレクトマップ方式のキャッシュアドレスは主記憶のブロックとは一対一ではないので、よくアクセスされる１以上のの主記憶ブロックのハッシュアドレスが同じな場合、常に追い出しと再読み込みが発生することがあるので、ミスヒット率が増加し、アクセスの効率低下が考えられる。（例えばよくアクセス主記憶ブロックA(1)とブロックBがあり(12)、キャッシュが11ブロックの場合、ABともにキャッシュの1ブロックに割り当てられる、交互読み込みが発生する場合は常に追い出しと再書き込みが発生してしまう）
　　　2. キャッシュ利用率の低さ:メモリの局所性により、キャッシュ上のアドレスもよく使うものしか利用されてなく、他のブロックがフル活用されないことがある。


　#フルアソシアティブ方式
　#フルアソシエイティブ  ^c8573b
　　　フルアソシアティブ方式は主記憶上のブロックがキャッシュ上の相対アドレスが決まってなく、任意のキャッシュ上のアドレスに書き込みできる方式。
　　　最初に書き込みとするキャッシュ上のブロックが使用されている場合は、追い出しをせず、次の空きブロックに書き込むことができる。そのため、キャッシュのブロックをフル活用ができ、ヒット率の向上に寄与できる。
　　　その一方、キャッシュ上の任意格納なので、オーバーヘッドが発生しやすいのは、フルアソシアティブ方式の弱点である。
　　　読み込みが発生する場合は、キャッシュの端から端まで順次識別情報を検索し、読み込みの効率が低下する。(実際の場合はキャッシュ内全ブロックを一斉に捜索するメモリ #CAM (Content addressable memory)があり、 #RAM がアドレスによりデータ検索に対して、 #CAM はデータタッグによりメモリを照合する方式をとっている。)
　　　また、フルアソシアティブ方式はアドレス内のキャッシュオフセットの部分を除く全長のアドレスをキャッシュ内に格納しているので解読するにはリソースが必要になる。
　　　そして最後に、キャッシュアクセスは任意のため、それを制御する機構も多くなりソースが必要となり、オーバーヘッドに繋がる。例えばキャッシュ追い出しするとき、どのキャッシュから追い出すには、 #LRU　が使用されるケースが多く、計算量の増加につながる。(そのほかに #FIFO や完全任意の追い出しのポリシーもあるが、ヒット率の低下につながるので、この方式のメリットとTrade-offとなる。)

  >[!キャッシュに保存する情報量]
>これに比べてダイレクト方式は、アドレス内のインデックス（キャッシュ長のroot=キャッシュ長が4の場合、$2^2=4$のため2桁),とオフセットの除くアドレスがキャッシュに格納するタグとなるので、少ない情報量で処理することができる。
　

　#セットアソシエイティブ 
　#セットアソシエイティブ方式 
　　　ダイレクトマップ方式とフルアソシアティブ方式の中間を取るのは、セットアソシエイティブ方式（以下SA)。SAはキャッシュ内の連続ブロックをセットとして分割し、セット番号を割り当てる。主記憶から読み込んだ記憶はダイレクトマップ方式と似たように主記憶のアドレスからセット番号を計算し、該当なセットにデータを書き込むが、セット内に複数なブロックが存在するので、そのブロック内であればどのブロックでも利用可能。
　　　（セット内にN個のブロックが存在する場合は、N Way Set Associativeと呼ぶ)
　　　この方法では、ダイレクトマップのように追い出し多発の問題はなく、フルアソシアティブ方式のように検索に大量なリソースがかかることもない、二つ方式の弱点を無くした。
　　　[[名詞解説・詳細説明#^3435c0]]
　　　[[過去問#^1f23fd]]
　　　[[過去問#^103bd0]]
　　　

　#メモリインタリーブ 
　　　CPUのメモリへのアクセス高速のアプローチはキャッシュから着手の他に、メモリを複数の領域（バンク）に分けて、複数のバンクを同時にアクセスすることで理論上の高速化アクセスを実現するアプローチもある。
　　　ただこのアプローチでは、複数のバンクをまたがる連続アドレスのデータを読み込む場合ではないと効果が薄く。
　　　マルチプロセッサ化と同じく、バンク数とアクセス速度とは比例しなく、アクセス高速化の効果を最大限に実現するには、その特性を活かす専用のソフトウェアやそれに合わせて最適化したハードウェアが必要になる。
　　　[[過去問#^37ec42]]
　　　[[過去問#^e8b8b0]]