## #マルチプロセッサ
　複数のCPU（プロセッサ）を並列に動作させることによって処理能力を向上させることをマルチプロセッサ方式と呼ぶ。
　マルチプロセッサ方式を構成方法と接合方式で分類することができる。
　接合方式による分類は、CPUが主記憶を共有しているかどうかによって分類している。
　#密接合マルチプロセッサ　システム 
　複数のプロセッサが同じ==主記憶==を共有し、単一のOSで制御される方式。この方式を取ることで、タスクに対してどのプロセッサでも同じように対応することが可能なので、負荷を平均的に分散させることでシステム全体の効率を向上させることを図れる。
　逆に、プロセッサ間の同期を制御するOSが必要ことや、同じ主記憶を共有することで、プロセッサ数が増えるとアクセスの競合が発生し効率が低下することは欠点として挙げられる。
　過去問とアーキテクチャの説明図：
　[[過去問#^d0e4be]]
　![[Pasted image 20230725205136.png]]

　#疎接合マルチプロセッサ 
　複数のプロセッサが自分専用のOS、と==主記憶==を持つ方式。密接合方式と比べてプロセッサの独立性が高く、競合が起きにくく、プロセッサの数を多く増やすことはできるが、構成が複雑で、プロセッサごとにOSが必要なところは難点になる。
　
　密接合と疎接合の違いは各自主記憶を持つかどうかこと、一部の[[過去問#^386996|問題]]では磁気ディスクを共有しているシステムは密接合か疎接合かの問いがある、磁気ディスクは[[記憶階層#^59a74e|補助記憶装置]]で、それを共有しても、主記憶共有してなければ疎接合である。
　![[Pasted image 20230725205154.png]]

#並列で得られる高速化率
#アムダールの法則
　マルチプロセッサによる、高速化できるのは、命令の中の並列処理できる部分で。プロセッサ数と全体の性能は比例関係ではない。

　並列処理による高速化効果を予測できるのは、アムダールの法則と呼ばれる。
　アムダールの法則とは「並列化できない部分がある場合、高速化率は、並列処理できる部分の割合によって決まり、プロセッサ数をいくら増やしてもある値以上の高速化率は得られない。」
　高速化率の求め方：
　　$$E=\frac{1}{1-r+(r/n)}$$
　　E=並列処理によって達成される高速化率。
　　n＝プロセッサ数
　　r＝対象となる処理のうち、並列化処理できる割合。

　　プロセッサが１０台、並列化できる割合は40%の場合：
　　$$E=\frac{1}{1-0.4+(0.4/10)}$$
　　$$E=\frac{1}{0.6+0.04}=\frac{1}{0.64}=\frac{25}{16}$$
　　高速化率は1.56
　　プロセッサが１０台、並列化率が90％の場合：
　　$$E=\frac{1}{1-0.9+(0.9/10)}$$
　　$$E=\frac{1}{0.19}=9.56$$
　　高速化率は5.26

　アムダールの法則では、$1-r+(r/n)$のn（プロセッサ台数）が大きくなるにつれ、r/nは次第に0に近づく、そのため、プロセッサ台数が無限大の場合の高速化計算式は下記に変換できる：
　$$E=\frac{1}{1-r}$$
　例えばプロセッサ数が無限大で、並列化率が90%の場合は$E=\frac{1}{0.1}=10$のため、高速化率の限界は10倍だということがわかる。 ^deb149

### ヘテロジニアスマルチコアプロセッサ
1つのチップにアーキテクチャ、規模、特徴などが異なる種類のCPUコアを搭載するプロセッサです。ヘテロジニアス（heterogeneous）は「異種の」という意味です。リアルタイム処理とそれ以外の処理の性能、CPUとGPU、データ処理とコントロール処理、汎用CPUと特化CPU、通常のコアと省電力コアなどの組合せなどがあります。

それと反対するのは
#### ホモジニアスマルチコアプロセッサ
1つのチップに同じ種類のCPUコアを複数個搭載するプロセッサです。ホモジニアス（homogeneous）は「同種の」という意味です。