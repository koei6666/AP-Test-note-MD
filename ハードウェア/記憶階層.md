## 記憶階層
　CPUがプログラム実行する時、まずは補助記憶装置から命令をキャッシュメモリに読み込み、CPUがキャッシュから命令を順次呼び出し実行する、命令実行している間に、さらに他の命令を補助記憶装置から読み取りを行っている。
　そして、CPUの実行速度とメモリ、補助記憶装置の読み取り速度に差があると、記憶装置の読み取り速度がシステム全体の性能向上のネックになるので、CPUにハイスピードの記憶装置をつけるのが理想的だが、記憶装置が高速なほど容量が小さく、高価で、逆に容量が大きくなるほど速度が遅くなるので、コンピュータシステムの容量確保と速度確保を両立させるには、 #記憶の階層化 という手法がある。
　記憶の階層化は：
　1. #レジスタ ：最も高速で、最もコストが高いメモリ。プロセッサ内に直接組み込まれています。

　#キャッシュメモリ :
　　主記憶より高速にアクセスできる記憶装置、CPUのアクセスしそうな情報をキャッシュにコピーしておき、情報の取り出しを主記憶からではなく、キャッシュメモリから取り出すことで、高速化を図る。
　　#メモリの局所性 を有効に活用するために、プログラムだけ格納する命令キャッシュと、データ部分だけ格納するデータキャッシュを別に設けることがある。 ^991b29

　　#メモリの局所性 ：メモリアクセスの局所性（Locality of reference）は、プログラムがメモリをアクセスするパターンに関するコンピュータ科学の概念で、この概念はキャッシュメモリの効率的な利用に役立ちます。局所性は主に以下の2つのタイプがあります。

　　　1. **時間的局所性 (Temporal Locality)**: 時間的局所性とは、あるデータ項目が参照されたら、近い未来に再度参照される可能性が高いという原則です。言い換えれば、一度アクセスされたメモリ位置は短期間内に再度アクセスされる可能性が高いということです。

　　　2. **空間的局所性 (Spatial Locality)**: 空間的局所性とは、あるデータ項目が参照されたら、その近くのデータ項目も近い未来に参照される可能性が高いという原則です。言い換えれば、一度アクセスされたメモリ位置の近くのメモリ位置も短期間内にアクセスされる可能性が高いということです。 ^81a21e

　　これらの原則は、キャッシュメモリやページングなどのメモリ管理戦略において、重要な役割を果たします。キャッシュは、時間的および空間的局所性に基づいて、近い未来に使用される可能性が高い情報を事前にロードしてパフォーマンスを向上させることができます。

　2. #L1キャッシュ ：非常に高速で、レジスタに次いで高コスト。通常、プロセッサに組み込まれており、プログラムが頻繁にアクセスするデータを保持します。 ^f19909
    
　3. #L2 、L3 キャッシュ：これらはレジスタやL1キャッシュよりは遅いが、それでもメインメモリよりは高速です。通常、これらはプロセッサとメインメモリの間でデータを一時保存するために使用されます。
　   [[過去問#^8abe46|複層キャッシュのヒット率計算]]
    
　4. メインメモリ（RAM）（ #主記憶装置 ）：比較的高速だが、キャッシュよりは遅く、大量のデータを保持することができます。プログラムが実行されている間、現在使用中のデータがここに保持されます。
　
　5.　#ディスクキャッシュ ：磁気ディスクより高速的にデータにアクセスできる装置、磁気ディスクの一部をディスクキャッシュにコピーすることで、システムの高速を図れる。 
    
　6. ディスクストレージ（HDD、SSD）( #補助記憶装置)：最も低速で、最も大量のデータを保存できます。データは電源が切れても保持されます。
![[Untitled Diagram 3.svg]] ^59a74e
