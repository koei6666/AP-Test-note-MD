### HTTP
Hyper Text Transfer Protocol
WebサーバーとWebクライアントの間に、HTMLなどのデータをやり取りするためのプロトコルである。
WebクライアントがWebサーバーにリクエストを発行することで通信が始まる。
HTTPには以下のメソッドがよく使われる：
- GET:指定のURLにデータを取得する
- POST:指定のURLにデータを送信する
- PUT:指定のURLへデータを保存する
- DELETE:指定URLのデータを削除する
- CONNECT:プロキシにトンネリングを要求する

#### HTTP Header
```
Request Headers
GET / HTTP/1.1
Host: www.ap-siken.com
Connection: keep-alive
Cache-Control: max-age=0
Upgrade-Insecure-Requests: 1 User-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebkit/537.36 (KHTML
Accept: text/html,application/xhtm1+xm1, application/xml;q=0.9,image/webp, Accept-Encoding: gzip, deflate, sach
Accept-Language: ja, en-US;q=0.8, en;q=0.6
Cookie: _utma=82185798.227027948.1358520982.1458747825.1458856749.1162;
```

#### GETとPOSTメソッド
GETはURLからデータを取得するメソッドだが、取得するデータを要求する引数を遅れるために、データを送信することもできる。
GETでデータを送信する場合は、データはクエリストリングに埋め込まれる。
POSTで情報を送信する場合、情報はメッセージのボディに埋め込まれる。

URLの規則を定めたRFC 3986では、URLに使用可能な文字である「英数字」と記号「#;/?:@&=+$,'()」以外を用いるときには「%xx」という%の後に16進2桁の形式に変換してから使用するように定めています。**パーセントエンコーディング**は、一般にURLエンコードと呼ばれ、URLにおいて使用できない文字をURLに記述するために「%」＋16進2桁を組合わせた文字列に変換することをいいます。(16進表示が4桁の場合は設問の例のようになります)

GETメソッドは"\http://aaa.com/bbb.html?ccc=ddd"というようにURLに続いてパラメタを記述することで、ブラウザからサーバに値を渡す方式です。漢字はURLとして使用できないので、パーセントエンコーディングした文字列で記述されます。

#### CONNECTメソッド
CONNECTメソッドはプロキシサーバでよく使われる、プロキシサーバは通信の中身を解釈し、再構成することで通信の中継を行なっているが、HTTPSなど暗号化した通信の場合、プロキシサーバでは暗号化された通信を復号できないため、CONNECTメソッドでトンネリングを行い、パケットをいじらずに単に中継することを依頼する。

### WebDav
WebDavはWebサーバー上のファイルを管理するための、HTTPを拡張したプロトコルである。
従来のFTPと比べてHTTPだけでファイルを管理できるようになり、ファイルウォールを通過させるためのプロトコル削減もできた。

### HTTPS
HTTPSはHTTPに暗号化、デジタル署名および、認証機能を追加した拡張プロトコルである。トランスポート層のプロトコルTLSを使うことで、IPやアプリケーションの仕組みを変更することなくセキュアな通信を行える。

HTTPSを使用したとき、通信データが暗号化されるのは「==クライアントとサーバの間==」です。Webサーバは暗号化されたデータを平文のHTTPリクエストに復号した後、リクエストに応じた処理を行います。

HTTPSと組み合わせて使われるのは、HSTS(HTTP Strict Transport Security)がある、HSTSが設定されているHTTPサーバに、WebクライアントがHTTPで接続する場合は、HSTSはWebクライアントにHTTPSで接続するように指示する。これにより暗号化されてないHTTP通信路に介入する中間者攻撃を防ぐことができる。

### WebSocket
WebSocketはWebサーバとクライアントの双方向通信を行うための技術である。
WebSocketの利用は、まずクライアントからサーバに、GETメソッドでUpgrade WebSocketのリクエストを送信し、サーバ側がそれに応えて、サーバとクライアント間でハンドシェイクを行うことで、HTTPと異なる恒常的なWebSocketが設立される。その後はHTTPの手順に縛らずに一つのTCPコネクション上でデータのやり取りが行えるようになる。
WebSocketはwebチャットアプリなど、リアルタイム性の高い双方向通信に利用される。


### Cookie（クッキー）
**HTTP Cookie** (ウェブ Cookie、ブラウザー Cookie) は、サーバーがユーザーのウェブブラウザーに送信する小さなデータであり、ブラウザーに保存され、その後のリクエストと共に同じサーバーへ返送されます。一般的には、 2 つのリクエストが同じブラウザーから送信されたものであるかを知るために使用されます。例えば、ユーザーのログイン状態を維持することができます。 Cookie は、[ステートレス](https://developer.mozilla.org/ja/docs/Web/HTTP/Overview#http_%E3%81%AF%E3%82%B9%E3%83%86%E3%83%BC%E3%83%88%E3%83%AC%E3%82%B9%E3%81%A7%E3%81%82%E3%82%8B%E3%81%8C%E3%82%BB%E3%83%83%E3%82%B7%E3%83%A7%E3%83%B3%E3%83%AC%E3%82%B9%E3%81%A7%E3%81%AF%E3%81%AA%E3%81%84)な HTTP プロトコルのためにステートフルな情報を記憶します。

Cookie は主に、以下の 3 つの用途で使用されます。

- セッション管理

ログイン、ショッピングカート、ゲームのスコア、またはその他のサーバーが覚えておくべきもの

- パーソナライズ

ユーザー設定、テーマ、その他の設定

- トラッキング
  
ユーザーの行動の記録および分析

Cookie は、クライアント側の汎用的な記憶領域として使用されたことがあります。これは他にクライアントへデータを保存する手段がなかった頃は合理的でしたが、現在では新しいストレージ API を使用することが推奨されています。 Cookie はすべてのリクエストで送信されるので、（特にモバイルデータ通信で）性能を悪化させる可能性があります。クライアントストレージ向けの新しい API として、[ウェブストレージ API](https://developer.mozilla.org/ja/docs/Web/API/Web_Storage_API) (`localStorage` および `sessionStorage`) と [IndexedDB](https://developer.mozilla.org/ja/docs/Web/API/IndexedDB_API) があります。

#### First-party Cookie & Third-party Cookie
現在訪問しているWebサイトのドメインから発行されるクッキーがファーストパーティcookie、閲覧しているページ内の広告等の要素の配信とともに別ドメインから発行されるのがサードパーティcookie(第三者配信クッキー)です。  
  
広告配信会社は、利用者の嗜好を把握して効果が高いと思われるターゲティング広告を配信するために、サードパーティcookieを利用して閲覧したWebサイトの情報を収集しています。クッキーによりWebサイトの閲覧履歴が収集されると、個人の興味や趣味、家族構成、住んでいる場所、年収や信条などが推測されてしまうことになり、これが行き過ぎた情報収集であるとしてプライバシー保護の観点から問題となっています。このような背景があり、Webブラウザの開発会社はサードパーティcookieを規制する動きを強めています。

<u>サードパーティcookieをブロックすることで、サイトを横断したトラッキングをさせないようにできます。</u>

#### 主なポイント

1. **状態管理**: Cookieはウェブサーバーがブラウザを通じてユーザーのローカルマシンに保存する小さなテキストファイル。
2. **セッション維持**: ユーザーがウェブサイトにログインしているかどうか、ショッピングカートに何が入っているかなどの情報を維持。
3. **トラッキング**: ユーザーのブラウジング活動を追跡。

---

#### 特徴

- **データ保存**: キーと値のペア形式で保存されます。
- **有効期限**: Cookieには通常、有効期限が設定されます。
- **ドメイン制限**: Cookieは、それを設定したドメインからのみアクセス可能です。

#### 用途

1. **認証情報の保存**: ユーザーがログインした状態を維持。
2. **設定とカスタマイズ**: ユーザー設定（例: 言語設定）を保存。
3. **分析と広告**: ユーザーの行動を追跡し、広告をパーソナライズ。

#### 実世界の例

- **オンラインショッピング**: ショッピングカートに追加した商品を記憶しておく。
- **多言語ウェブサイト**: ユーザーが選択した言語設定を保存。
- **Google Analytics**: ユーザーのウェブサイト訪問履歴を追跡。

#### セキュリティ懸念

- **第三者によるトラッキング**: 広告会社などがユーザー行動を追跡。
- **セッションハイジャック**: セキュリティが弱い場合、攻撃者がユーザーのセッションを乗っ取る可能性。

---

**クッキーは、ユーザーエクスペリエンスを向上させる一方で、プライバシーとセキュリティに関する懸念もあります。** したがって、ウェブサイトは、必要なクッキーのみを使用し、ユーザーに対してその用途と管理方法を明示することが推奨されます。