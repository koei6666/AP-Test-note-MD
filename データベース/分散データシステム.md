[[集中処理システムと分散処理システム]]
分散データシステムは複数のサイトにある複数このデータベースシステムを論理的に統合し、1つのデータベースシステムである可能ように利用者に見せること。

データが複数システム内のどのサイトにあり、どのサイトに移動したかを利用者に意識させないするためには透過性の実現が必要となる。

分散DBは以下の六つの透過性がある：
- [[ネットワーク透過性#^c1e408|位置透過性]]
- [[ネットワーク透過性#^7dd594|移動透過性]]
- [[ネットワーク透過性#^ec26f4|複製透過性]]
- [[ネットワーク透過性#^8065b8|障害透過性]]
以上4つの透過性は分散ネットワークシステムにも共通して使用されている概念である、DB固有の透過性概念としては
- 分割透過性:表が複数のサイトに分割されても、利用者にはそれを意識させない透過性。
- データモデル透過性:問い合わせや、データモデル（データ構造）の違いを意識させない透過性。
がある。

### データベース透過性の実現
透過性を実現するために、各サイトのDBMSが持つ自サイトのデータディクションナリ/ディレクトリ(Date Dictionary/Directory, DD/D)の他に、分散データシステム全体を管理するグローバルDD/Dも必要になる。
DD/Dの管理場所は大きく分けて2つ方式、3つのアプローチが挙げられる。

| 方式         | アプローチ               | 内容                                                                                                                                                                                                                     |
| ------------ | ------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 集中管理方式 | --                       | DD/Dを分散システム内一つのサイトに持たせる方式、問い合わせ時は他のサイトを調べまわる必要はないが、アクセスが一つのサイトに集中し、速度が低下する恐れがある他に、保管サイトに障害が発生するとシステム全体に影響を及ばす。 |
| 分散管理方式 | 重複保有なし             | 各サイトに自サイトのDD/Dのみを保有、表の移動や構造を変更する時は該当するサイトのD D／Dだけ更新すればいいが、自サイトにない他の表を問い合わせするときは調べまわる必要が出てくる。                                         |
| 分散管理方式 | 重複保有あり（完全重複） | 各サイトに全システムのDD/Dを保有する方式、次サイトにない他の表を問い合わせるときでも自サイトで調べば完結するが、表の変更や移動が発生するときは、全サイトにあるDD/Dを更新する必要がある。                                 |
| 分散管理方式 | 重複保有なし（部分重複） | 各サイトに、いくつかのサイトのDD/Dを保有する方式。                                                                                                                                                                                                                         |

#### データディクションナリに格納される情報
**データディクショナリ**(DD)は、データベースのメタデータやデータ定義情報を効率よく管理する情報の保管庫です。データディクショナリは、他のデータベースと同じく表とビューで構成されていて次のような情報が格納されています。

- 概念スキーマ、外部スキーマ、内部スキーマとそれらの変換定義情報
- 表、ビュー、インデックス、その他オブジェクトの定義情報
- 参照制約、検査制約の定義情報
- ユーザ情報
- アクセス権と機密保護に関する情報




### 異なるサイト間での表結合
分散データシステムにおいて、異なる二つのサイトに存在する表を結合するには、結合先の表（サイト）に結合元の表を送る必要がある。
ただ全表を送るとコストがかかりすぎるので、結合元の結合に必要な属性だけ結合先の表に送り、結合が成功した場合のみ、成功に結合した完了した表のみ元の表に戻す、セミジョイン法という方法がある。
そしてセミジョイン法をさらに効率化した、ハッシュセミジョイン法がある、この方法が結合列のハッシュ値を相手サイトに送り、結合を検証する。

#### その他の結合方式
- 入れ子ループ法:AとB二つの表を結合する場合では、Aから１行ずつレコードを取り出し、Bにループしてマッチを検索する手法である。この手法ではAとBの2重ループで検索をするので計算量は$O(n^2)$になる。
- マージジョンイン法(ソートマージ結合):結合列の値をソートした上先頭から順に突き合わせて結合する手法。分散サイトで実施する場合は、ソートした表を相手サイトに送り、相手サイトで結合を行う。
- ハッシュ結合:片方の表（行数の少ない方）の結合列の値でハッシュ表を作成し、もう片方の表の結合列をハッシュ関数で処理し、ハッシュ値の等しい行を結合する。ハッシュ結合はハッシュ値で比較結合を行うため、等価結合以外の結合では使えない。

[[分散データシステムの更新同期]]