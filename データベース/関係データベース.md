
## 関係データベースの特徴
実世界の情報をモデル化したクラス階層を表現でき，このクラス階層を使うことによって，データと操作を分離して扱うことができる。

データと操作とリレーションが数学的に定義されており，プログラム言語とデータ操作言語との独立性を保つことができる。

リレーションが論理的なデータ構造として定義されており，非手続き的な操作言語でデータ操作を行うことができる。



## 関係モデルと関係データベース

### 関係モデル
関係モデルでは、一つまとまりとなるデータを2次元の[[データベース正規化の手順|平坦な表]]で表す、この**表**を関係といい、表の**各行**に格納されるデータをタプル（組）、タプルはいくつかの属性（アトリビュート）の**列**から構成される。

> [!NOTE] 関係モデルの規則
> 属性名の重複は許されない（重複名称の列は存在してはいけない）
> タプルおよび属性の並び順を入れ替えても同じ関係となる
> 関係内に同一のタプルの存在は許されない

### 属性の定義域
タップルは同一特性を持った値の集合（定義域、ドメイン）から一定の意義を持たせるために、1つずつ要素を取り出して作成されたデータの組みと言える。

関係データベースでは、特定の制約によって値域を持つもの、例えば日付、金額、数量などを新たなデータ型として定義することができ、異なるデータ項目でも同じようなデータチェックができるという利点が生まれる。

```SQL
CREATE DOMAIN PRICE INTEGER
CHECK (PRICE > 0)

CREATE TABLE Product
(Productnum CHAR(6),
Productname CHAR(7),
UnitPrice PRICE)
```

### 関係データベースのキー

##### スーパーキー
スーパーキーは関係内すべてのタップルが持つ各自一意の属性を含めている、その上、そのタップルを表す必ずしも一意ではない属性も一部含めている。
##### Example

Consider the following relation for employees:

**Employees:**

|EmployeeID|Name|Email|DepartmentID|
|---|---|---|---|
|1|Alice|alice@example.com|100|
|2|Bob|bob@example.com|200|
|3|Carol|carol@example.com|100|

In this example, the "EmployeeID" attribute is enough to uniquely identify each tuple, so any set of attributes that includes "EmployeeID" is a super key.

**Possible Super Keys:**

- {EmployeeID}
- {EmployeeID, Name}
- {EmployeeID, Email}
- {EmployeeID, Name, Email}
- {EmployeeID, Name, Email, DepartmentID}
- etc.

### 候補キー
スーパーキーのうち、余分の属性を含まず、行を一意に識別できる必要最小限の属性によって構成されるスーパーキー。

候補キーではnull値が許されます。候補キーにNOT NULL制約を加えたものが主キー制約となります。

候補キーには、一意性を保証するために同一表内に同じ値があってはならない一意性制約が設定されている。 ^a949f6

### 主キー
候補キーの中からデータ管理上（運用面で）最も適切と思われるものを1つ、主キーにする。主キー以外の候補キーを代理キーと呼ぶ
主キーには、一意性制約の他に、NULLが許されないNOT NULL制約が設定されている。これは主キー制約と呼ぶ。

主キーが複数の属性から構成（複合キー、連結キー）し、運用上面倒な場合は、連番などの人工的な属性を追加し、それを代用キー(Surrogate Key)として使う。そして複合キーを構成する属性を代理キーとする。

### 外部キー
関連する他の表を参照する属性あるいは属性の組を外部キーと呼ぶ。
