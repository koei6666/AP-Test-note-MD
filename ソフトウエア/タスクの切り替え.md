### タスク情報の保持
タスクの情報は #TCB(Task Control Block)と呼ばれる主記憶内のデータ構造によって保持されている。
保持されている情報は通常、タスク識別子(ID),優先度、現在の[[タスクの状態遷移|状態]]、CPU使用時間、アドレス管理情報、そして[[割り込み制御#^a70fd8|PSW]]退避領域などが含まれている。

PSWは切り替え前タスク中断時の状態を記録しているので、タスクの切り替えの上では重要な情報である。

> [!TCBとPCB] 
> OSによっては、タスクをプロセスと呼ぶ場合がある、そのようなシステムでは、TCBではなく、PCB(Process Control Block)が使われている。その構造はほぼTCBと同じ。

### コンテキストの切り替え
1つのCPUで複数のタスクを処理する場合、CPUが保有するレジスタ、PSWそして主記憶の内容を交互に切り替えしなければいけない、このような切り替えを #コンテキストスイッチング (Context Switching)と呼ばれる。
コンテキストとは、特定のタスク（あるいはプロセスまたはスレッド）が現在どの状態でどのような作業をしているのか、その全情報を指します。これには、プログラムカウンタ、レジスタの状態、開いているファイルなど、タスクが再開したときに元の状態を正確に再現するのに必要なすべての情報が含まれます。
コンテキスト切り替えのPSWとレジスタの入れ替えは高速にできるが、アドレス空間の切り替えはオーバーヘッドが大きくなり、 #マルチプログラミング　の利点を最大限実現できない。これを解決するために、[[スレッド]]でオーバーヘッドを大幅に減少することができる。

### タスク切り替えのタイミング
タスク切り替えのタイムングは以下２種類がある：
- イベンドドリブン方式(Event-Driven):システムのイベントが発生するタイミングに切り替えをする方式、具体的には、グリックされた時や、入出力操作が完了したときなど環境の変化（イベント）に応じて切替する([[割り込み制御#^0f64f3|割り込み]]）方式。 ^85e631
- タイムスライス方式：各タスクにタイムアウト時間が設定されており、持ち時間(タイムクォンタム）が完了したら自動的に切り替えをし、周期的にタスクを切り替えする。タイムアウト時間はインターバルタイマで管理しており、この切り替えによって発生する割り込みは[[割り込み制御#^0f64f3|タイマ割り込み]]。

