ページング方式では、下のような表（　#ページテーブル)を使って、仮想アドレスと物理アドレスの紐付けを行う。
ページテーブルにはページ番号と、物理アドレスへの換算方法を記録している。
![[Pasted image 20230731232824.png]]
![[Pasted image 20230731233543.png]]

そして、ページテーブル上ではページフォールトビットが設けられ、主記憶上に存在しないページを1、存在するページを0とフラグ設定されている。
MMUは命令実行ごとにこのページテーブルを使って、主記憶上該当ページ存在するかどうかを判断し、仮想アドレスから物理アドレスを算出する。ページテーブルに頻繁にアクセスすると処理速度の低下につながるので、MMU内部にある、TLB(Translation Look-aside Buffer)（連想レジスタ）と呼ばれるキャッシュに最近参照したページの変換履歴を記憶し、MMUはそれを利用して変換を高速化している。

### ページフォールト
#ページフォールト は、ページング方式において要求されたページが主記憶上に存在しないときに発生する[[割り込み制御#^4697b3|内部割込み]]です（ページフォールトビットが1の時）。ページアウト／ページインの処理は、ページフォールトの発生を契機にして行われます。

### ページイン/ページアウト
ページインは**デマンドページング**方式と、**プリページング**方式がある。
- **デマンドページング**
  ページフォールトが発生した際に、該当するページだけ主記憶に読み込む方式。
  主記憶に空きページの枠があればそこに読み込み、なければページを置き換えアリゴリズムで、不要ページを選定し、それを追い出してから読み込む。
 - **プリページング**
   将来に必要と予測するページをあらかじめ記憶に読み込む方式、ページフォールトの発生回数を少なくてき、補助記憶へのアクセス回数も少なくできる効果はあるが、次に必要なページを予測するのが難しいため、実際ではデマンドページング方式と併用されている。

### ページ置き換えアルゴリズム
- LRU

- LFU

- FIFO

