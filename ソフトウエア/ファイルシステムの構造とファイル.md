### ファイルシステムの構造

- UNIX系のオペレーティングシステムのファイルシステムは、**ツリー構造**（階層的構造）を持つことで特徴づけられます。この階層の最上位は**ルートディレクトリ**と呼ばれ、すべてのファイルとディレクトリ（他のディレクトリを含む）はこのルートディレクトリから派生します。ルートディレクトリは通常 "/" と表されます。

- 目的ファイルを辿るパスを表記したものをパス名と呼ぶ、パス名の中次々辿るディレクトリは"/"で分割される。
- **絶対パス名**：ファイルやディレクトリの位置をルートディレクトリ（/）からの完全なパスとして特定します。これは全体として一意であり、OSのどこからでも同じリソースを参照します。例えば、"/home/user/Documents/file.txt"は絶対パスです。

- **相対パス名**：現在のディレクトリ（ワーキングディレクトリ）に基づいてファイルやディレクトリの位置を特定します。相対パス名は現在の位置に依存するため、異なるディレクトリから見たときには異なるリソースを参照する可能性があります。例えば、現在のディレクトリが"/home/user/Documents"であれば、"file.txt"という相対パス名は"/home/user/Documents/file.txt"を参照します。しかし、現在のディレクトリが"/home/user"であれば、"file.txt"という相対パス名は"/home/user/file.txt"を参照します。
- UNIX系のオペレーティングシステムで、相対パス名を使う際に、特別な記号"."（ドット）と".."（ドットドット）は非常に有用です。

1. **.** : これは現在のディレクトリを指すために使われます。例えば、現在のディレクトリにあるファイル"file.txt"を指すためには、"./file.txt"というパス名を使うことができます。また、現在のディレクトリをコピーまたは移動する際にも使われます。
    
2. **..**: これは現在のディレクトリの一つ上のディレクトリ（親ディレクトリ）を指すために使われます。例えば、現在のディレクトリから一つ上のディレクトリにあるファイル"file.txt"を指すためには、"../file.txt"というパス名を使うことができます。
    

これらの記号を組み合わせることで、ファイルシステムを柔軟に移動することが可能になります。例えば、現在のディレクトリから2つ上のディレクトリにある別のディレクトリ"dir"内のファイル"file.txt"を指すためには、"../../dir/file.txt"というパス名を使うことができます。

### ファイルの種類
1. **通常ファイル（Regular Files）**：これはテキストやバイナリデータを保存する最も一般的な種類のファイルです。テキストファイルは人間が読み書き可能な文字で構成され、スクリプトやソースコード、設定ファイルなどを含む可能性があります。バイナリファイルはコンピュータが直接理解できるデータ形式であり、実行可能プログラムやメディアファイルなどが該当します。
    
2. **ディレクトリファイル（Directory Files）**：ディレクトリファイルは他のファイル（ディレクトリを含む）へのリファレンスを保存します。これにより、ファイルは階層的な構造を形成します。ディレクトリファイルは自分自身（"."）と親ディレクトリ（".."）への参照を必ず含みます。
   **iノード**
   - UNIX系のオペレーティングシステムにおいて、全てのファイル（ディレクトリファイルを含む）は、いわゆる「iノード」（inode、インデックスノードとも）に関連付けられています。iノードは、ディスク上のファイルシステムにおけるファイルのメタデータを格納するデータ構造です。

　具体的には、iノードには以下のような情報が格納されています：

　- ファイルの所有者とグループ
　- ファイルのアクセス許可（パーミッション）
　- ファイルのタイプ（通常ファイル、ディレクトリ、シンボリックリンク、特殊ファイルなど）
　- ファイルのサイズ
　- ファイルのタイムスタンプ（作成時間、最終アクセス時間、最終変更時間）
　- ファイルの実際のデータが保存されているディスク上のブロックへのポインタ

　iノードは、ファイルシステムの管理において重要な役割を果たします。特に、ディレクトリファイルにおいては、そのディレクトリに含まれる各ファイルの名前と、それぞれのファイルのメタデータを格納したiノードへのリンクが格納されています。

　つまり、UNIX系のファイルシステムでは、ファイルの名前はディレクトリに保持され、ファイルの内容とその他の情報はiノードに保持されます。ファイル名とiノードの番号のペアは、ファイルシステム内の各ファイルを一意に識別します。
    
3. **特殊ファイル（Special Files）**：特殊ファイルはデバイスを表すためのファイルで、UNIXの "everything is a file" の哲学に基づいています。これらは、通常のファイル入出力操作でデバイスハードウェアと通信するためのインターフェイスを提供します。特殊ファイルは主に二つのタイプ、すなわち「ブロックデバイスファイル」と「キャラクタデバイスファイル」があります。
    
    - **ブロックデバイスファイル**：これは主にディスクなどのブロックデバイスを表します。これらのデバイスは、一度に多くのバイト（"ブロック"）を読み書きすることができます。
        
    - **キャラクタデバイスファイル**：これは主にキーボードやマウスなどのキャラクタデバイス（または "ストリーム" デバイス）を表します。これらのデバイスは、一度に一つまたは少数の文字を読み書きします。
        

この他にも、UNIX系OSではパイプ、ソケット、リンク（シンボリックリンクとハードリンク）など、他の特殊なファイルの種類も使用します。これらの種類も含め、それぞれのファイルの種類は特定の用途と挙動を持っています。

### リンクファイル
UNIX系のオペレーティングシステムにおける「リンク」は、一つのファイルを参照または「指す」ための方法です。リンクには主に2つの種類があります：ハードリンクとシンボリックリンク（またはソフトリンク）です。

1. **ハードリンク**：ハードリンクはファイルのiノードに直接リンクします。つまり、元のファイルとハードリンクは同じiノードを共有し、その結果、同じデータを指します。このため、ハードリンクを通じてファイルの内容を変更すると、元のファイルの内容も変更されます。また、元のファイルが削除されても、ハードリンクからデータにアクセスすることができます。ハードリンクは同じファイルシステム内でのみ作成できます。

2. **シンボリックリンク**：シンボリックリンク（またはソフトリンク）は、あるファイルへの「ショートカット」のようなものです。シンボリックリンクは、参照先のファイルへのパスを保持しています。これにより、異なるファイルシステム間でリンクを作成することが可能です。しかし、シンボリックリンクは参照先のファイルに依存しています。つまり、元のファイルが移動されたり削除されたりすると、シンボリックリンクは「壊れた」状態になります。

これらのリンクを使うことで、ファイルを別の場所から参照したり、同じデータに対して異なる名前を使ったりすることができます。これは、ファイルの整理や、同じデータに対する複数のアクセスポイントを提供するなど、多くの便利な用途を持っています。